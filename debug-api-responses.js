const axios = require('axios');\n\nconst API_BASE = 'http://localhost:1412/API';\n\n// Debug API responses to understand the data structure\nasync function debugAPIResponses() {\n    try {\n        console.log('üîç Debugging API Responses...');\n        \n        // Test books endpoint\n        console.log('\\nüìö Testing Books API...');\n        try {\n            const booksResponse = await axios.get(`${API_BASE}/books`);\n            console.log('Books Response Structure:');\n            console.log('- Status:', booksResponse.status);\n            console.log('- Data type:', typeof booksResponse.data);\n            console.log('- Data.data type:', typeof booksResponse.data?.data);\n            console.log('- Is data.data an array?', Array.isArray(booksResponse.data?.data));\n            console.log('- Sample data:', JSON.stringify(booksResponse.data, null, 2).substring(0, 200) + '...');\n        } catch (error) {\n            console.log('‚ùå Books API Error:', error.response?.status, error.response?.data);\n        }\n        \n        // Test games endpoint\n        console.log('\\nüéÆ Testing Games API...');\n        try {\n            const gamesResponse = await axios.get(`${API_BASE}/games`);\n            console.log('Games Response Structure:');\n            console.log('- Status:', gamesResponse.status);\n            console.log('- Data type:', typeof gamesResponse.data);\n            console.log('- Data.data type:', typeof gamesResponse.data?.data);\n            console.log('- Is data.data an array?', Array.isArray(gamesResponse.data?.data));\n            console.log('- Sample data:', JSON.stringify(gamesResponse.data, null, 2).substring(0, 200) + '...');\n        } catch (error) {\n            console.log('‚ùå Games API Error:', error.response?.status, error.response?.data);\n        }\n        \n        // Test notification endpoints (should return 401 without auth)\n        console.log('\\nüîî Testing Notification API (should return 401)...');\n        try {\n            await axios.get(`${API_BASE}/admin/notifications`);\n        } catch (error) {\n            if (error.response?.status === 401) {\n                console.log('‚úÖ Notifications endpoint exists (returns 401 as expected)');\n            } else {\n                console.log('‚ùå Unexpected error:', error.response?.status, error.response?.data);\n            }\n        }\n        \n        // Test submissions endpoints (should return 401 without auth)\n        console.log('\\nüìù Testing Submissions API (should return 401)...');\n        try {\n            await axios.get(`${API_BASE}/submissions/pending`);\n        } catch (error) {\n            if (error.response?.status === 401) {\n                console.log('‚úÖ Submissions endpoint exists (returns 401 as expected)');\n            } else {\n                console.log('‚ùå Unexpected error:', error.response?.status, error.response?.data);\n            }\n        }\n        \n        console.log('\\n‚úÖ API Response debugging completed!');\n        console.log('\\nüí° If you see \"data.map is not a function\" errors:');\n        console.log('1. Check if the API is returning the expected data structure');\n        console.log('2. Ensure the response has a \"data\" property that is an array');\n        console.log('3. The frontend now has defensive programming to handle non-array responses');\n        \n    } catch (error) {\n        console.error('‚ùå Debug failed:', error.message);\n        console.log('\\nüí° Make sure the server is running on port 1412');\n        console.log('   cd Server && node server.js');\n    }\n}\n\ndebugAPIResponses();